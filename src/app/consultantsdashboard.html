<div>
  <ul class="flex space-x-2 rtl:space-x-reverse">
  </ul>
  <div class="mb-5 flex items-center font-bold">
    <span class="text-lg">Dashboard</span>
  </div>
</div>
<div class="panel">
  <div class="mb-5 flex items-center justify-between">
    <h5 class="text-lg font-semibold dark:text-white-light">
      <b>Renewal Records</b>
    </h5>
  </div>
  <div class="mb-5">
    <div
      class="mt-3 flex flex-wrap justify-between space-x-2 text-center rtl:space-x-reverse"
    >
      <a
        href="javascript:;"
        class="block font-semibold flex-auto rounded p-3.5 py-2 !outline-none transition duration-300 hover:bg-info hover:text-white m-1"
        [ngClass]="{ 'bg-info text-white': tab12.toLowerCase() === 'home', 'bg-gray-300': tab12.toLowerCase() !== 'home' }"
        (click)="tab12 = 'home'; onClickTodayTab()"
      >
        Today's
      </a>

      <!-- Tab 2: Empty Slots -->
      <a
        href="javascript:;"
        class="block font-semibold flex-auto rounded p-3.5 py-2 !outline-none transition duration-300 hover:bg-info hover:text-white m-1"
        [ngClass]="{ 'bg-info text-white': tab12.toLowerCase() === 'profile', 'bg-gray-300': tab12.toLowerCase() !== 'profile' }"
        (click)="tab12 = 'profile';"
      >
       Not Renewal
      </a>

      <!-- Tab 3: Conducted -->
      <a
        href="javascript:;"
        class="block font-semibold flex-auto rounded p-3.5 py-2 !outline-none transition duration-300 hover:bg-info hover:text-white m-1"
        [ngClass]="{ 'bg-info text-white': tab12.toLowerCase() === 'conducted', 'bg-gray-300': tab12.toLowerCase() !== 'conducted' }"
        (click)="tab12 = 'conducted'; onClickConductedTab()"
      >
       All Renewals
      </a>

      <!-- Tab 4: Upcoming -->
      <a
        href="javascript:;"
        class="block font-semibold flex-auto rounded p-3.5 py-2 !outline-none transition duration-300 hover:bg-info hover:text-white m-1"
        [ngClass]="{ 'bg-info text-white': tab12.toLowerCase() === 'upcoming', 'bg-gray-300': tab12.toLowerCase() !== 'upcoming' }"
        (click)="tab12 = 'upcoming'; onClickUpcomingTab()"
      >
        Upcoming
      </a>
    </div>

    <!-- Tab Content -->
    <div class="flex-1 pt-5 text-sm">
      <!-- Tab 1 Content -->
      <div *ngIf="tab12.toLowerCase() === 'home'">
        <div class="panel mt-6">
          <div class="mb-5 flex flex-col gap-5 md:flex-row md:items-center">
            <div class="mb-5 flex flex-col gap-5 md:flex-row md:items-center">
              <h5 class="text-lg font-semibold dark:text-white-light">
              Todays Renewals
              </h5>
            </div>
          </div>

     

          <div class="datatable">
            <div *ngIf="noDataAvailable" class="text-left py-4">
              <p>No data available</p>
            </div>
            <div *ngIf="!noDataAvailable" class="overflow-x-auto">
              <table class="min-w-full table-auto table-striped table-hover">
                <thead class="bg-gray-200">
                  <tr>
                    <th class="px-4 py-2">Sr. No.</th>
                    <th class="px-4 py-2">Clinic Name</th>
                    <th class="px-4 py-2">Subscription Start Date</th>
                    <th class="px-4 py-2">Subscription End Date</th>
                  
                  </tr>
                </thead>
                <tbody>
                  <ng-container
                    *ngFor="let conducted of conductedList; let i = index"
                  >
                    <tr
                      class="bg-white hover:bg-gray-100 border-b transition duration-300 ease-in-out"
                    >
                      <td class="px-4 py-2 text-center">{{ i + 1 }}</td>
                      <td class="px-4 py-2 whitespace-nowrap">
                        {{ conducted.clinicname }}
                      </td>
                      <td class="px-4 py-2 whitespace-nowrap">
                        {{ conducted.subscribtion_startdate }}
                      </td>
                      <td class="px-4 py-2 whitespace-nowrap">
                        {{ conducted.subscribtion_enddate }}
                      </td>
                     
                    
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Tab 2 Content -->
      <div *ngIf="tab12.toLowerCase() === 'profile'">
        <div class="panel mt-6 pb-0" style="width: 100%">
          <div class="mb-5 flex flex-col gap-5 md:flex-row md:items-center">
            <h5 class="text-lg font-semibold dark:text-white-light">
             Not Renewals
            </h5>
          </div>

          <div class="datatable">
            <div *ngIf="noDataAvailable" class="text-left py-4">
              <p>No data available</p>
            </div>
            <div *ngIf="!noDataAvailable" class="overflow-x-auto">
              <table class="min-w-full table-auto table-striped table-hover">
                <thead class="bg-gray-200">
                  <tr>
                    <th class="px-4 py-2">Sr. No.</th>
                    <th class="px-4 py-2">Clinic Name</th>
                    <th class="px-4 py-2">Subscription Start Date</th>
                    <th class="px-4 py-2">Subscription End Date</th>
                  
                  </tr>
                </thead>
                <tbody>
                  <ng-container
                    *ngFor="let conducted of conductedAppointments; let i = index"
                  >
                    <tr
                      class="bg-white hover:bg-gray-100 border-b transition duration-300 ease-in-out"
                    >
                      <td class="px-4 py-2 text-center">{{ i + 1 }}</td>
                      <td class="px-4 py-2 whitespace-nowrap">
                        {{ conducted.clinicname }}
                      </td>
                      <td class="px-4 py-2 whitespace-nowrap">
                        {{ conducted.subscribtion_startdate }}
                      </td>
                      <td class="px-4 py-2 whitespace-nowrap">
                        {{ conducted.subscribtion_enddate }}
                      </td>
                     
                    
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>
          </div>
          
            
        </div>
      </div>

      <div *ngIf="tab12.toLowerCase() === 'conducted'">
        <div class="panel mt-6 pb-0">
          <div class="mb-5 flex flex-col gap-5 md:flex-row md:items-center">
            <h5 class="text-lg font-semibold dark:text-white-light">
             All Renewals
            </h5>
          </div>
          <div class="datatable">
            <div *ngIf="noDataAvailable" class="text-left py-4">
              <p>No data available</p>
            </div>
            <div *ngIf="!noDataAvailable" class="overflow-x-auto">
              <table class="min-w-full table-auto table-striped table-hover">
                <thead class="bg-gray-200">
                  <tr>
                    <th class="px-4 py-2">Sr. No.</th>
                    <th class="px-4 py-2">Clinic Name</th>
                    <th class="px-4 py-2">Subscription Start Date</th>
                    <th class="px-4 py-2">Subscription End Date</th>
                  
                  </tr>
                </thead>
                <tbody>
                  <ng-container
                    *ngFor="let conducted of cancelledAppointments; let i = index"
                  >
                    <tr
                      class="bg-white hover:bg-gray-100 border-b transition duration-300 ease-in-out"
                    >
                      <td class="px-4 py-2 text-center">{{ i + 1 }}</td>
                      <td class="px-4 py-2 whitespace-nowrap">
                        {{ conducted.clinicname }}
                      </td>
                      <td class="px-4 py-2 whitespace-nowrap">
                        {{ conducted.subscribtion_startdate }}
                      </td>
                      <td class="px-4 py-2 whitespace-nowrap">
                        {{ conducted.subscribtion_enddate }}
                      </td>
                     
                    
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Tab 4 Content (Upcoming) -->
      <div *ngIf="tab12.toLowerCase() === 'upcoming'">
        <div class="panel mt-6 pb-0">
          <div class="mb-5 flex flex-col gap-5 md:flex-row md:items-center">
            <h5 class="text-lg font-semibold dark:text-white-light">
              Upcoming Renewals
            </h5>
          </div>

          <div class="datatable">
            <div *ngIf="noDataAvailable" class="text-left py-4">
              <p>No data available</p>
            </div>
            <div *ngIf="!noDataAvailable" class="overflow-x-auto">
              <table class="min-w-full table-auto table-striped table-hover">
                <thead class="bg-gray-200">
                  <tr>
                    <th class="px-4 py-2">Sr. No.</th>
                    <th class="px-4 py-2">Clinic Name</th>
                    <th class="px-4 py-2">Subscription Start Date</th>
                    <th class="px-4 py-2">Subscription End Date</th>
                  
                  </tr>
                </thead>
                <tbody>
                  <ng-container
                    *ngFor="let conducted of cancelledAppointments; let i = index"
                  >
                    <tr
                      class="bg-white hover:bg-gray-100 border-b transition duration-300 ease-in-out"
                    >
                      <td class="px-4 py-2 text-center">{{ i + 1 }}</td>
                      <td class="px-4 py-2 whitespace-nowrap">
                        {{ conducted.clinicname }}
                      </td>
                      <td class="px-4 py-2 whitespace-nowrap">
                        {{ conducted.subscribtion_startdate }}
                      </td>
                      <td class="px-4 py-2 whitespace-nowrap">
                        {{ conducted.subscribtion_enddate }}
                      </td>
                     
                    
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <ng-container *ngIf="codeArr.includes('code12')">
    <!-- The preformatted code section can remain unchanged -->
  </ng-container>

  <!-- Conducted Modal -->
  <!-- Modal form in admindashboard.html -->
  <ngx-custom-modal #conductedModal class="no-footer">
    <ng-template #modalHeader>
      <div class="font-medium">Enter Payment Details</div>
    </ng-template>
    <ng-template #modalBody>
      <form (ngSubmit)="submitPayment()">
        <div class="mb-5">
          <label for="amount">Amount</label>
          <input
            id="amount"
            type="number"
            class="form-input"
            [(ngModel)]="paymentData.amount"
            [ngModelOptions]="{ standalone: true }"
            name="amount"
            required
          />
        </div>
        <div class="mb-5">
          <label for="received">Payment Received</label>
          <select
            id="received"
            class="form-input"
            [(ngModel)]="paymentData.received"
            [ngModelOptions]="{ standalone: true }"
            name="received"
            required
          >
            <option value="yes">Yes</option>
            <option value="no">No</option>
          </select>
        </div>

        <div class="mt-8 flex items-center justify-end">
          <button
            type="button"
            class="btn btn-outline-danger"
            (click)="conductedModal.close()"
          >
            Cancel
          </button>
          <button type="submit" class="btn btn-primary ltr:ml-4 rtl:mr-4">
            Submit
          </button>
        </div>
      </form>
    </ng-template>
  </ngx-custom-modal>
</div>

<div
  *ngIf="isLoading"
  class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"
>
  <div
    class="spinner-border animate-spin inline-block w-16 h-16 border-4 border-t-4 border-white rounded-full"
    role="status"
  >
    <span class="visually-hidden">*🤒*</span>
  </div>
</div>
